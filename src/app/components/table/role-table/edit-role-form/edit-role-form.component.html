<p-dialog [(visible)]="display" (onHide)="onClose()" [style]="{width: '450px', height: '500px'}" header="User Details" [modal]="true"
  styleClass="p-fluid">
  <ng-template pTemplate="header">
    <div class="inline-flex align-items-center justify-content-center gap-2">
      <p class="font-bold white-space-nowrap">User Information</p>
    </div>
  </ng-template>
  <ng-template pTemplate="content">

    <div>
      <label for="id" class="block text-900 font-medium mb-2">Id: </label>
      <input id="id" [(ngModel)]="user.id" type="text" placeholder="id" pInputText class="w-full mb-3"
        [disabled]="true">
    </div>
    <div>
      <label for="username" class="block text-900 font-medium mb-2">Username:</label>
      <input id="username" [(ngModel)]="user.username" type="text" placeholder="Username" pInputText class="w-full mb-3"
        [disabled]="true">
    </div>
    <div>
      <label class="block text-900 font-medium mb-2">Role:</label>
      <div class="mb-2">
        <ng-template ngFor let-role [ngForOf]="roles" let-i="index">
          <p-radioButton id="{{role.id}}" name="role" value="{{role.id}}" [(ngModel)]="user['users_role.role_id']"
            class="mr-2" (ngModelChange)=changedValue($event)></p-radioButton>
          <label for="{{role.id}}" class="mr-4">{{role.name}}</label>
        </ng-template>
      </div>
    </div>
    <div class="pt-2">
      <label class="block text-900 font-medium mb-2">Permissions:</label>
      <div class="mb-2 flex" >
        <ng-template ngFor let-permission [ngForOf]="permissions" let-i="index" class="flex">
          <p-radioButton id="{{permission.id}}" name="permission" value="{{permission.id}}"
            [(ngModel)]="user['roles_permissions.permission_id'][i]" class="mr-2" [disabled]="true"></p-radioButton>
            <label for="{{permission.id}}" class="mr-4">{{permission.name}}</label> 
        </ng-template>
      </div>
    </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="onClose()"></button>
    <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="updateUserRole()"></button>
  </ng-template>
</p-dialog>